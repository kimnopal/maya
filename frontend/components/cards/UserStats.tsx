"use client";

import { userType } from "@/app/type";
import { useSession } from "next-auth/react";
import React from "react";
import SigninButton from "../button/SigninButton";

const UserStats = ({ user }: { user: userType }) => {
  const { data: session } = useSession();
  return (
    <div className="bg-secondary-foreground text-white flex flex-col gap-2 px-3 pt-6 pb-3 rounded-2xl">
      <h1 className="font-bold text-xl">Maya: Mahasiswa Berkarya</h1>
      {session?.user ? (
        <>
          <p className="">
            Hi, {session.user.name} <br />
            Have you found your Dream Team?
          </p>
          <div className="grid grid-flow-col grid-cols-2 gap-2 px-4 py-2 bg-white rounded-lg">
            <div className="flex flex-row gap-2">
              <svg
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g>
                  <path
                    d="M8.88514 0.857176C9.47023 0.843233 10.0426 1.02929 10.5076 1.38462C10.9726 1.73994 11.3026 2.24327 11.4429 2.81146L11.8114 4.28575H21.4286C21.7663 4.28575 22.1006 4.35226 22.4126 4.48149C22.7246 4.61071 23.0081 4.80012 23.2468 5.0389C23.4856 5.27768 23.675 5.56115 23.8043 5.87313C23.9335 6.18511 24 6.51949 24 6.85718V20.5715C24 21.2534 23.7291 21.9075 23.2468 22.3897C22.7646 22.872 22.1106 23.1429 21.4286 23.1429H2.57143C2.23374 23.1429 1.89937 23.0764 1.58739 22.9472C1.27541 22.8179 0.991933 22.6285 0.753154 22.3897C0.514375 22.151 0.324965 21.8675 0.195738 21.5555C0.066512 21.2435 0 20.9091 0 20.5715L0 3.4286C0 2.74662 0.270918 2.09257 0.753154 1.61033C1.23539 1.12809 1.88944 0.857176 2.57143 0.857176H8.88514ZM16.4571 11.0572C16.5584 10.9221 16.6322 10.7684 16.6741 10.6048C16.716 10.4413 16.7252 10.2711 16.7014 10.1039C16.6775 9.93677 16.6209 9.77597 16.5349 9.63068C16.4489 9.4854 16.3351 9.35848 16.2 9.25718C16.0649 9.15587 15.9112 9.08216 15.7477 9.04026C15.5841 8.99835 15.4139 8.98908 15.2467 9.01295C15.0796 9.03683 14.9188 9.0934 14.7735 9.17942C14.6282 9.26545 14.5013 9.37924 14.4 9.51432L9.98743 15.3977L8.42743 14.3589C8.14369 14.1742 7.79857 14.1089 7.46697 14.1771C7.13537 14.2453 6.84406 14.4416 6.65627 14.7233C6.46848 15.0049 6.39937 15.3493 6.46393 15.6817C6.5285 16.014 6.72154 16.3074 7.00114 16.4983L9.57257 18.2126C9.84601 18.3949 10.1789 18.4656 10.5028 18.4101C10.8267 18.3546 11.1171 18.1772 11.3143 17.9143L16.4571 11.0572Z"
                    fill="black"
                  />
                </g>
              </svg>
              <div className="text-black text-xs">
                <h4 className="font-bold">My Post</h4>
                <p>{String(user.postCount)} Post</p>
              </div>
            </div>
            <div className="flex flex-row gap-2">
              <svg
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g>
                  <path
                    d="M6.85714 0C6.17515 0 5.5211 0.270918 5.03886 0.753154C4.55662 1.23539 4.28571 1.88944 4.28571 2.57143V23.1429C4.2854 23.3126 4.33551 23.4786 4.42967 23.6199C4.52384 23.7611 4.65782 23.8712 4.81463 23.9362C4.97144 24.0012 5.14402 24.0182 5.31049 23.985C5.47696 23.9518 5.62983 23.8699 5.74971 23.7497L12 17.4977L18.2503 23.7497C18.3702 23.8699 18.523 23.9518 18.6895 23.985C18.856 24.0182 19.0285 24.0012 19.1854 23.9362C19.3422 23.8712 19.4761 23.7611 19.5703 23.6199C19.6645 23.4786 19.7146 23.3126 19.7143 23.1429V2.57143C19.7143 1.88944 19.4434 1.23539 18.9611 0.753154C18.4789 0.270918 17.8248 0 17.1428 0L6.85714 0Z"
                    fill="black"
                  />
                </g>
              </svg>

              <div className="text-black text-xs">
                <h4 className="font-bold">My Bookmarks</h4>
                <p>{String(user.bookmarkCount)} Post</p>
              </div>
            </div>
          </div>
        </>
      ) : (
        <>
          <p>Sign in to get started!</p>
          <SigninButton />
        </>
      )}
    </div>
  );
};

export default UserStats;
